= Deploying An Application

[[create-a-namespace]]
== Create a Namespace

A _Namespace_ is a group of related applications in the Payara Cloud environment. This namespace is characterized by a project name and a stage.

Click btn:[Create New Namespace] button.

Your namespace project name must be unique from other project names within your subscription. The name is also used as the subdomain name of the URL that gives you access to the deployed application. To ensure the project name is also unique from all other project names within the Payara Cloud environment, a random value is added to the name you specify.

Use the stage field to indicate the phase of your application. For example, the stage is often called _QA,_ _test,_ or _production_, but you can specify any value that suits your needs.  

image::image6.png[Graphical user interface, application Description automatically generated,width=504,height=435]

After entering the project name, stage, and choosing your cloud region, click btn:[Create namespace] button. The namespace is created and you are taken to the namespace details screen where you can begin adding applications to your namespace.

Each time you login into Payara Cloud you will see a list of all the namespaces that are linked to your subscription.

For each namespace, the name is a link to the namespace details. You can also see the project, stage, and domain. If you have deployed applications to the namespace, the last column of the namespace table contains a link to the URL of the application that is deployed on the root. If no context route is defined or you haven’t yet uploaded any applications within the namespace, you will receive an error message when clicking on that link. 


[[upload-an-application]]
== Upload an Application

You upload an application from the *Namespace Details Screen* by clicking on the btn:[Upload Application] button.

image::image8.png[Graphical user interface, application Description automatically generated,width=624,height=257]

You’ll get a dialog where you can select the WAR file that needs to be deployed. The _Deploy Immediately_ checkbox can be checked to deploy the application with default values. In most cases you will need a specific configuration (such as if your application connects to a database) and this checkbox should not be ticked.  

* If Application Name is defined on the Payara Cloud UI dialog, it is used as the application name in Payara Cloud.
* If the above is not set and the WAR is built by Maven and the pom.xml is included within the archive (the default behavior for Maven war plugin) the artifactId is used as name.
* Finally, if the above 2 are not met, the name of the uploaded file is used as the application name.

The application name is important as it is also the DNS name assigned to the container running your application and can be used to access the application directly from another application in the same namespace.


image::image9.png[Graphical user interface, application, Teams Description automatically generated,width=624,height=370]

After the WAR has uploaded, you’re presented with that application’s detail screen where you can configure your application and deploy it to the cloud.

You can have multiple applications deployed within the same namespace. Applications within a namespace can easily communicate with each other using an appropriate DNS name.

Applications in the same namespace can communicate directly with each other, without the need to send a request that needs to be resolved by the router. 

For each application, an additional DNS name is created based on the _appName_ property in the contextRoot panel of the configuration.

When you have two applications deployed in the same namespace, let say _service-a_ and _service-b_, the code in _service-a_ can call an endpoint in the application _service-b_ by using the URL http://service-b/%3ccontext-root%3e/path/to/endpoint[+++http://service-b/<context-root>/path/to/endpoint+++] when the appName of this service-b application is set to _service-b_. 

[[review-configuration]]
== Review Configuration

Payara Cloud has support for three configuration areas, MicroProfile Config properties, context root, and a database connections for a JPA data sources.  The configuration screen will only display the MicroProfile Configuration values for an application using microprofile.config.properties and will only show you the Database Configuration values if your application contains a persistence.xml file.

If your application connects to a datasource you’ll first provide the JDBC URL, datasource class, and the username and password used to authenticate your connection to the database server.

You’ll select your runtime size in the drop down box based on the amount of resources you need to allocate for this instance. The resources count against the included CPU of your subscription.

The Runtime Type provides two options for different application scenarios. For applications utilizing the Jakarta EE 8 API, the recommended choice is Payara 5, JDK 11. On the other hand, for applications built on the Jakarta EE 10 platform, it is advisable to select Payara 6, JDK 11.

After uploading an application war file, you can View Configurations by clicking on the btn:[Action] and then click on  btn:[Edit Configurations] button.

image::image38.png[Graphical user interface, application, Teams Description automatically generated,width=624,height=370]

[[deploy-application]]
== Deploy Application


You need to deploy the application to make it publicly available after you’ve configured it for the first time, or anytime you have changed the configuration of the application.

From the application details screen, click btn:[Applications Actions] button to open the menu, and choose the Deploy Changes option.

image::image19.png[Graphical user interface, application, Teams Description automatically generated,width=624,height=256]

If there are no errors, your application successfully deploys and the status of the application will update on your application detail screen.

image::image20.png[A screenshot of a computer Description automatically generated,width=624,height=307]

From here, you can click on the Application URL to access your application. There may be a delay whilst DNS propagation completes.


[[stop-application]]
== Stop Application

Payara Cloud offers an easy way to stop an application if you need to stop an application that is currently running in the cloud.

Click on the application you want to stop from the Namespace Navigator sidebar and then open the btn:[Application Actions] drop down menu.

image::image25.png[image,width=624,height=287]

Choose btn:[Stop Application] from the drop down menu.

You will get confirmation prompt click on btn:[Stop] button to confirm.

image::image26.png[image,width=624,height=287]

You will be presented with the ‘stop application wait screen’ while Payara Cloud stops your application.

When the process completes, you’ll see a success message and will be taken back to the Application Detail screen. You’ll see the status of your application is STOPPED and the application is no longer accessible online.

image::image27.png[image,width=624,height=287]

[[delete-application]]
== Delete Application

Payara Cloud offers an easy way to delete an application if you need to remove an application that is currently running in the cloud.

Click on the application you want to remove from the Namespace Navigator sidebar and then open the btn:[Application Actions] drop down menu.

image::image39.png[image,width=624,height=287]

You will get confirmation prompt, type the name of application you want to delete and then click on btn:[Delete] button to confirm.

image::image40.png[image,width=624,height=287]

When the process completes, you’ll see a success message and will be taken back to the Namespace Detail screen. You’ll see the application is no longer listed in the table of applications.

image::image41.png[image,width=624,height=287]

[[create-a-team]]

