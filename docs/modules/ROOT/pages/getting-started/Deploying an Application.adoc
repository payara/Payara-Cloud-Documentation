= Deploying An Application

[[create-a-namespace]]
== Create a Namespace

A _Namespace_ is a group of related applications in the Payara Cloud environment. This namespace is characterized by a project name and a stage.

Click btn:[Create New Namespace] button.

The project name for your namespace must be distinct from other project names present within your subscription. This name is also utilized as the subdomain within the URL, granting access to your deployed application. To ensure absolute uniqueness among all project names within the Payara Cloud ecosystem, an additional random value is appended to the name you provide.

Employ the "stage" field to specify the current "phase" of your application. Commonly, this stage is referred to as "_QA_," "_test_," or "_production_," although you have the flexibility to designate any value that aligns with your requirements.

image::image6.png[Graphical user interface, application Description automatically generated,width=504,height=435]

Once you have entered the project name, chosen the stage, and selected your preferred cloud region, proceed to click the btn:[Create namespace] button. This action will initiate the creation of the namespace, and you will be directed to the namespace details screen. Here, you can initiate the process of adding applications to your newly created namespace.

Whenever you log in to Payara Cloud, a comprehensive list of all namespaces associated with your subscription will be displayed.

Each namespace is represented with its name as a hyperlink leading to the namespace details. Additionally, the project, stage, and domain information are also visible. In cases where applications have been deployed within the namespace, the last column of the namespace table features a link directing to the URL of the application deployed at the root. However, if there's no context route defined or no applications have been uploaded within the namespace, clicking on that link will result in an error message.


[[upload-an-application]]
== Upload an Application

To upload an application from the *Namespace Details Screen*, simply click on the btn:[Upload Application] button.

image::image8.png[Graphical user interface, application Description automatically generated,width=624,height=257]

A dialog box will appear, allowing you to choose the WAR file that requires deployment. To deploy the application with default values, you can mark the _Deploy Immediately_ checkbox. However, in many instances, you'll require a tailored configuration (such as for applications connecting to a database), and in such cases, it's advisable not to check this checkbox.

* If an Application Name is specified within the Payara Cloud UI dialog, it will be employed as the application name within Payara Cloud.

* In cases where the aforementioned step is not taken and the WAR file is constructed using Maven, and the `pom.xml` is contained within the archive (which is the default action of the Maven war plugin), the `artifactId` is taken as the name.

* As a last resort, if neither of the two previous conditions is satisfied, the name of the uploaded file itself becomes the application name.

The significance of the application name lies in its dual role as the DNS name designated to the container hosting your application. This name not only enables direct access to the application from within the same namespace but can also be used for interaction between applications within that namespace.


image::image9.png[Graphical user interface, application, Teams Description automatically generated,width=624,height=370]

After the WAR has uploaded, you’re presented with that application’s detail screen where you can configure your application and deploy it to the cloud.

Within a single namespace, you have the capability to deploy multiple applications. These applications can seamlessly interact with one another by utilizing suitable DNS names.

Applications sharing the same namespace have the ability to establish direct communication between each other, eliminating the necessity of sending requests that would otherwise require resolution by the router.

For each application, an additional DNS name is created based on the _appName_ property in the contextRoot panel of the configuration.

When you have two applications deployed in the same namespace, let say _service-a_ and _service-b_, the code in _service-a_ can call an endpoint in the application _service-b_ by using the URL http://service-b/%3ccontext-root%3e/path/to/endpoint[+++http://service-b/<context-root>/path/to/endpoint+++] when the appName of this service-b application is set to _service-b_. 

[[review-configuration]]
== Review Configuration

Payara Cloud extends support to three distinct configuration aspects: MicroProfile Config properties, context root, and database connections for JPA data sources. When accessing the configuration screen, you'll exclusively encounter MicroProfile Configuration values if your application employs the microprofile-config.properties approach. Similarly, Database Configuration values will be visible  when your application incorporates a persistence.xml file.

If your application connects to a datasource you’ll first provide the JDBC URL, datasource class, and the username and password used to authenticate your connection to the database server.

In the dropdown menu, you will choose your runtime size according to the resources you intend to allocate for this instance. These resources will be deducted from the allocated CPU included within your subscription.

=== Runtime Type

The Runtime Type presents a range of six distinct options, each catering to specific application scenarios. The different permutations of Jakarta EE, Payara and JDK versions currently supported are summarized in the table below.

[cols="1,1,1", options="header"]
|===
| Jakarta EE Version | Payara Version | JDK
|  8 |  5 |  11 /17/ 21
|  10 |  6 |  11 /17/ 21
|===

.Runtime Types
image::image-37-runtime-type.png[]

As an example, if your application is developed on Jakarta EE 8 and compiled for JDK 17, then you can pick the option for Jakarta EE 8 (Payara 5, JDK17). And if your application is developed with Jakarta EE 10 and compiled for JDK 21, then you should select Jakarta EE 10 (Payara6, JDK 21) option

After uploading an application war file, you can View Configurations by clicking on the btn:[Action] and then click on  btn:[Edit Configurations] button.

image::image38.png[Graphical user interface, application, Teams Description automatically generated,width=624,height=370]

[[deploy-application]]
== Deploy Application


In order to make your application accessible to the public following its initial configuration or any subsequent configuration changes, deployment is necessary.

From the application details screen, click btn:[Applications Actions] button to open the menu, and choose the Deploy Changes option.

image::image19.png[Graphical user interface, application, Teams Description automatically generated,width=624,height=256]

If there are no errors, your application successfully deploys and the status of the application will update on your application detail screen.

image::image20.png[A screenshot of a computer Description automatically generated,width=624,height=307]

From here, you can click on the Application URL to access your application. There may be a delay whilst DNS propagation completes.


[[stop-application]]
== Stop Application

Payara Cloud offers an easy way to stop an application if you need to stop an application that is currently running in the cloud.

Click on the application you want to stop from the Namespace Navigator sidebar and then open the btn:[Application Actions] drop down menu.

image::image25.png[image,width=624,height=287]

Choose btn:[Stop Application] from the drop down menu.

You will get confirmation prompt click on btn:[Stop] button to confirm.

image::image26.png[image,width=624,height=287]

You will be presented with the ‘stop application wait screen’ while Payara Cloud stops your application.

Once the process concludes, a success message will appear, and you will be redirected to the Application Detail screen. At this point, your application's status will be displayed as STOPPED, resulting in its unavailability online.

image::image27.png[image,width=624,height=287]

[[delete-application]]
== Delete Application

Payara Cloud offers an easy way to delete an application if you need to remove an application that is currently running in the cloud.

Click on the application you want to remove from the Namespace Navigator sidebar and then open the btn:[Application Actions] drop down menu.

image::image39.png[image,width=624,height=287]

You will get confirmation prompt, type the name of application you want to delete and then click on btn:[Delete] button to confirm.

image::image40.png[image,width=624,height=287]

When the process completes, you’ll see a success message and will be taken back to the Namespace Detail screen. You’ll see the application is no longer listed in the table of applications.

image::image41.png[image,width=624,height=287]

[[create-a-team]]

